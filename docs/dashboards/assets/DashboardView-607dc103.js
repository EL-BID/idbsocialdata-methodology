import{_ as g,r as i,w as b,o as S,c as C,a as r,t as B}from"./index-26ab5899.js";d3plus.colorDefaults.missing="white";d3plus.colorDefaults.scale.range(["#305EA9","#1C97C9","#6CCDEF","#685990","#B1B6BA","#555555","#24264F","#30A98C","#F453AA","#F9965E","#FC4D4D","#FFCB65"]);const x={props:{id:String,title:String},setup(s){var o=i(0),n=i(0),a=i(0),c=i(0),l=i(0),f=i(0),h=i(0),m=i(0),v=i(0);b(()=>s.id,t=>{var e=d(t);u(e)});function d(t){let e="";return t=="encuestas"&&(e='collection like "%25Survey%25"'),t=="censos"&&(e='collection like "%25Censuses%25"'),t=="web"&&(e='collection not like "%25Censuses%25" AND collection not like "%25Surveys%25"'),`https://mydata.iadb.org/resource/5bbz-ibhf.json?$where=${e}`}function u(t){fetch(t).then(e=>e.json()).then(e=>{p(e)})}function p(t){d3.select("#viz-treemap svg").remove(),d3.select("#viz-matrix svg").remove(),new d3plus.Treemap().data(t).groupBy(["theme_es"]).sum(e=>e.indicator?e.indicator.length:0).legend(!1).height(200).select("#viz-treemap").detectVisible(!1).render(),new d3plus.Matrix().data(t).groupBy(["theme_es","collection"]).column("theme_es").row("collection").shapeConfig({stroke:e=>"black",strokeWidth:.2}).colorScaleConfig({color:["#BBDEFB"]}).colorScale("indicator").legend(!1).height(200).select("#viz-matrix").detectVisible(!1).render()}function _(){return s.id=="censos"?"CENSOS":s.id=="encuestas"?"ENCUESTAS":"OTRAS FUENTES"}return{getData:u,defineTitle:_,defineSource:d,indicators:o,indicators_dash:n,table:c,table_dash:l,general_table:f,themes:a,indicators_name:h,indicator_selected:m,theme_selected:v,props:s}},mounted(){var s=this.defineSource("censos");this.getData(s)}},D={class:""},w={className:"text-3xl font-semibold mb-2 lg:mb-0"},E=r("div",{class:"grid grid-cols-1 gap-4 pt-5"},[r("div",{id:"viz-treemap",class:"pt-10 pb-10"}),r("div",{id:"viz-matrix",class:"pt-10 pb-10"})],-1),k=r("div",{id:"matrix-indicator",class:"matrix-indicator pb-16 pt-10"},null,-1);function F(s,o,n,a,c,l){return S(),C("div",D,[r("p",w,B(a.defineTitle()),1),E,k])}const z=g(x,[["render",F]]);export{z as default};
