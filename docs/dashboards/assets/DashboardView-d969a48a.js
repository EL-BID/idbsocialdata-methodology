import{_ as S,r as s,w as C,o as D,c as x,a,t as f}from"./index-6ceb56eb.js";d3plus.colorDefaults.missing="white";d3plus.colorDefaults.scale.range(["#305EA9","#1C97C9","#6CCDEF","#685990","#B1B6BA","#555555","#24264F","#30A98C","#F453AA","#F9965E","#FC4D4D","#FFCB65"]);const B={props:{id:String,title:String,description:String},setup(t){var r=s(0),o=s(0),n=s(0),c=s(0),d=s(0),m=s(0),h=s(0),g=s(0),p=s(0);console.log(t),C(()=>t.id,i=>{var e=l(i);u(e)});function l(i){let e="";return i=="encuestas"&&(e='collection like "%25Survey%25"'),i=="censos"&&(e='collection like "%25Censuses%25"'),i=="web"&&(e='collection not like "%25Censuses%25" AND collection not like "%25Surveys%25"'),`https://mydata.iadb.org/resource/5bbz-ibhf.json?$where=${e}`}function u(i){fetch(i).then(e=>e.json()).then(e=>{v(e)})}function v(i){d3.select("#viz-treemap svg").remove(),d3.select("#viz-matrix svg").remove(),new d3plus.Treemap().data(i).groupBy(["theme_es"]).sum(e=>e.indicator?e.indicator.length:0).shapeConfig({Rect:{label:e=>`${e.theme_es}
${Array.isArray(e.indicator)?e.indicator.length:e.indicator!=null||e.indicator!=null?1:0}`}}).legend(!1).title("Porcentaje de indicadores por tema").height(200).select("#viz-treemap").detectVisible(!1).render(),new d3plus.Matrix().data(i).groupBy(["theme_es","collection"]).column("theme_es").row("collection").title("Indicadores por tema y origen de datos").shapeConfig({stroke:e=>"black",strokeWidth:.2}).colorScaleConfig({color:["#BBDEFB"]}).colorScale("indicator").legend(!1).height(200).select("#viz-matrix").detectVisible(!1).render()}function _(){return t.id=="censos"?"CENSOS":t.id=="encuestas"?"ENCUESTAS":"OTRAS FUENTES"}function b(){return t.id=="censos"?"Indicadores calculados internamente en base a los censos de población oficiales de los institutos estadísticos de cada país.":t.id=="encuestas"?"Indicadores calculados internamente en base a las encuestas de hogares de los institutos estadísticos de cada país.":"Indicadores de datos externas se obtienen a partir encuestas demográficas y de salud, organizaciones internacionales y evaluaciones de aprendizaje."}return{getData:u,defineTitle:_,defineSource:l,defineDescription:b,indicators:r,indicators_dash:o,table:c,table_dash:d,general_table:m,themes:n,indicators_name:h,indicator_selected:g,theme_selected:p,props:t}},mounted(){var t=this.defineSource("censos");this.getData(t)}},y={class:""},w={className:"text-3xl font-semibold mb-2 lg:mb-0"},A=a("div",{class:"grid grid-cols-1 gap-4 pt-5"},[a("div",{id:"viz-treemap",class:"pt-10 pb-10"}),a("div",{id:"viz-matrix",class:"pt-10 pb-10"})],-1),E=a("div",{id:"matrix-indicator",class:"matrix-indicator pb-16 pt-10"},null,-1);function k(t,r,o,n,c,d){return D(),x("div",y,[a("p",w,f(n.defineTitle()),1),a("p",null,f(n.defineDescription()),1),A,E])}const F=S(B,[["render",k]]);export{F as default};
